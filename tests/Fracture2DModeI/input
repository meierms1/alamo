# identifies which program to execute. 
alamo.program = fracture

# Basic simulation parameters
timestep = 1e-4     # time step and stopping time for the simulation
stop_time = 2.e0

amr.plot_int = 100          # Interval of output
amr.max_level = 4           # level of refinement
amr.n_cell = 64 64          # base grid
amr.blocking_factor = 16    # Something we can ignore for now.
amr.regrid_int = 10         # Frequency of TagCellsForRefinement()
amr.grid_eff = 1.0          # Ignore for now
amr.thermo.int = 1          # Text file output

geometry.prob_lo = -0.01 -0.01      # Domain Bottom left corner
geometry.prob_hi = 0.01 0.01        # Domain top right corner
geometry.is_periodic = 0 0          # Periodic boundary condition

crack.modulus_scaling_max = 5.e-4   # eta from the equation
crack.refinement_threshold = 0.01   # Used in TagCellsForRefiment() 

crack.df.tol_rel = 0.01
crack.df.tol_abs = 0.001
crack.df.mult_Lap = 1.0
crack.df.beta = 0.0

# Crack models
crack.model1.type = constant
crack.model1.constant.G_c = 2.7e3   # fracture energy
crack.model1.constant.zeta = 1.e-5  # length scale of the crack.
crack.model1.constant.mobility = 1.0e-5
crack.model1.constant.gtype = square
crack.model1.constant.wtype = square
crack.model1.constant.threshold = 0.0

# Crack initial conditions.
crack.ic.type = notch                       # Collectively they create the notch 

# These values are read inside IC::Notch::Parse()
crack.ic.notch.center = -0.01 0.0
crack.ic.notch.orientation = 1.0 0.0
crack.ic.notch.thickness = 3.e-4
crack.ic.notch.length = 2.e-3
crack.ic.notch.eps = 4.e-5
crack.ic.notch.mollifier = erf

# The materials
material.model1.type = isotropic
material.model1.isotropic.lambda = 121.15
material.model1.isotropic.mu = 80.77
elastic.df_mult = 1.e9

material.refinement_threshold = 1.e-1

# Elastic solver - 
elastic.int = 100
elastic.omega = 0.08
elastic.solver.bottom_solver = smoother
elastic.solver.verbose = 4
elastic.solver.max_iter = 10000
elastic.solver.max_fmg_iter = 0
elastic.solver.bottom_max_iter = 1
elastic.solver.fixed_iter = 2000
elastic.solver.tol_rel = 1.0e-7
elastic.solver.tol_abs = 1.0e-7
elastic.solver.bottom_tol_rel = 1.0e-7
elastic.solver.bottom_tol_abs = 1.0e-7
elastic.solver.pre_smooth = 4
elastic.solver.post_smooth = 4
loading.body_force = 0.0 0.0 0.0
loading.val = 2.e-2

# Boundary conditions specified 
# disp - displacement BC
# trac - force/traction BC
# xlo is left edge, xhi is right edge
elastic.bc.type.xlo = disp trac
elastic.bc.type.xhi = disp trac
elastic.bc.type.ylo = disp disp
elastic.bc.type.xloylo = disp disp
elastic.bc.type.xhiylo = disp disp
elastic.bc.type.yhi = disp disp
elastic.bc.type.xloyhi = disp disp
elastic.bc.type.xhiyhi = disp disp
elastic.bc.val.yhi = 0.0 8.e-5
elastic.bc.val.xloyhi = 0.0 8.e-5
elastic.bc.val.xhiyhi = 0.0 8.e-5
#elastic.bc.val.yhi = 0.0 (0.0,2.0:1.e-5,5.e-5)
#elastic.bc.val.xloyhi = 0.0 (0.0,2.0:1.e-5,5.e-5)
#elastic.bc.val.xhiyhi = 0.0 (0.0,2.0:1.e-5,5.e-5)

plot_file = tests/Fracture2DModeI/output
